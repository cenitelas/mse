<html lang="en">
<head>
    <title>rtsp-bench</title>
</head>

<body>
    <video id="livestream" style="width:600px;" controls muted></video>
</body>

<script src="emcplayer.jsx"></script>
<script>
    const load = async ()=>{
        const response = await fetch("http://localhost:4090/player", {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({rtsp:"rtsp://test1402:Xstyle1402@10.23.8.50:554/cam/realmonitor?channel=1&subtype=0"})
        });

        let url = await response.json()

        console.log(url)
         let player = new Emcplayer("ws://127.0.0.1:4090/wsMP4",document.getElementById("livestream"),true)
        // let player = new Emcplayer(url.ws,document.getElementById("livestream"),true)
        player.play();

    }
    load()



</script>
</html>
